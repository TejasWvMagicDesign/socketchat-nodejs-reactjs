{"ast":null,"code":"import _classCallCheck from \"D:\\\\GitHub-RS\\\\socketchat-nodejs-reactjs\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\GitHub-RS\\\\socketchat-nodejs-reactjs\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\GitHub-RS\\\\socketchat-nodejs-reactjs\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\GitHub-RS\\\\socketchat-nodejs-reactjs\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\GitHub-RS\\\\socketchat-nodejs-reactjs\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\GitHub-RS\\\\socketchat-nodejs-reactjs\\\\client\\\\src\\\\pages\\\\chat.js\";\nimport React, { Component } from 'react';\nimport io from \"socket.io-client\";\nvar socket = io('http://127.0.0.1:4001');\n\nvar chat =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(chat, _Component);\n\n  function chat() {\n    var _this;\n\n    _classCallCheck(this, chat);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(chat).call(this));\n    _this.state = {\n      name: \"\",\n      message: \"\",\n      namecollection: [],\n      currentUser: \"\",\n      chatUser: \"\",\n      chatMessages: []\n    };\n    socket.emit('get_names');\n    return _this;\n  }\n\n  _createClass(chat, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        message: event.target.value\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.scrollToBottom();\n    }\n  }, {\n    key: \"scrollToBottom\",\n    value: function scrollToBottom() {\n      this.messagesEnd.scrollIntoView({\n        behavior: \"smooth\"\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.scrollToBottom();\n      socket.on(\"namecollection\", function (users) {\n        var currentUserDetail = users.find(function (m) {\n          return m.name === global.currentUser;\n        });\n\n        if (currentUserDetail != null) {\n          if (_this2.state.currentUser.length === 0) {\n            _this2.setState({\n              currentUser: currentUserDetail\n            });\n          }\n        }\n\n        _this2.setState({\n          namecollection: users\n        });\n      });\n      socket.on(\"get_messages\", function (messages) {\n        console.log(messages);\n\n        _this2.setState({\n          chatMessages: messages\n        });\n      });\n    }\n  }, {\n    key: \"sendMessage\",\n    value: function sendMessage() {\n      var messageDetails = {\n        message: this.state.message,\n        userid: this.state.currentUser.id,\n        userimg: this.state.currentUser.photo\n      };\n      this.setState({\n        message: \"\"\n      });\n      socket.emit('send_message', messageDetails);\n    }\n  }, {\n    key: \"keyPress\",\n    value: function keyPress(e) {\n      if (e.keyCode === 13) {\n        e.preventDefault();\n        var messageDetails = {\n          message: this.state.message,\n          userid: this.state.currentUser.id,\n          userimg: this.state.currentUser.photo\n        };\n        this.setState({\n          message: \"\"\n        });\n        socket.emit('send_message', messageDetails);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"sidepanel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        id: \"profile-img\",\n        src: \"images/\" + this.state.currentUser.photo,\n        className: \"online\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, this.state.currentUser.name))), React.createElement(\"div\", {\n        id: \"search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"\\xA0\"), React.createElement(\"div\", {\n        id: \"contacts\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, this.state.namecollection.filter(function (m) {\n        return m.name !== global.currentUser;\n      }).map(function (p, i) {\n        return React.createElement(\"li\", {\n          className: \"contact\",\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"wrap\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"contact-status online\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }), React.createElement(\"img\", {\n          src: \"images/\" + p.photo,\n          alt: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"meta\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"name\",\n          style: {\n            fontSize: '20px',\n            paddingTop: '5px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, p.name))));\n      })))), React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"contact-profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"images/group.jpg\",\n        className: \"online\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Group Chat\")), React.createElement(\"div\", {\n        className: \"messages\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, this.state.chatMessages != null && this.state.chatMessages.map(function (p, i) {\n        return React.createElement(\"li\", {\n          key: i,\n          className: _this3.state.currentUser.id === p.userid ? \"replies\" : \"sent\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: \"images/\" + p.userimg,\n          alt: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, p.message));\n      })), React.createElement(\"div\", {\n        style: {\n          float: \"left\",\n          clear: \"both\"\n        },\n        ref: function ref(el) {\n          _this3.messagesEnd = el;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"message-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onKeyDown: this.keyPress.bind(this),\n        onChange: this.handleChange.bind(this),\n        value: this.state.message,\n        type: \"text\",\n        placeholder: \"Write your message...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.sendMessage.bind(this),\n        className: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-paper-plane\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return chat;\n}(Component);\n\nexport default chat;","map":{"version":3,"sources":["D:\\GitHub-RS\\socketchat-nodejs-reactjs\\client\\src\\pages\\chat.js"],"names":["React","Component","io","socket","chat","state","name","message","namecollection","currentUser","chatUser","chatMessages","emit","event","setState","target","value","scrollToBottom","messagesEnd","scrollIntoView","behavior","on","users","currentUserDetail","find","m","global","length","messages","console","log","messageDetails","userid","id","userimg","photo","e","keyCode","preventDefault","filter","map","p","i","fontSize","paddingTop","float","clear","el","keyPress","bind","handleChange","sendMessage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport io from \"socket.io-client\";\r\nconst socket = io('http://127.0.0.1:4001');\r\n\r\nclass chat extends Component {\r\n\r\n  constructor() {\r\n    super();\r\n    socket.emit('get_names');\r\n  }\r\n\r\n  state = {\r\n    name: \"\",\r\n    message: \"\",\r\n    namecollection: [],\r\n    currentUser : \"\",\r\n    chatUser : \"\",\r\n    chatMessages : []\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ message: event.target.value });\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.scrollToBottom();\r\n  }\r\n  \r\n  scrollToBottom() {\r\n    this.messagesEnd.scrollIntoView({ behavior: \"smooth\" });\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    this.scrollToBottom();\r\n\r\n    socket.on(\"namecollection\", (users) => {\r\n      const currentUserDetail = users.find(m=> m.name === global.currentUser);\r\n      if(currentUserDetail != null)\r\n      {\r\n        if(this.state.currentUser.length === 0)\r\n        {\r\n            this.setState({ currentUser: currentUserDetail });\r\n        }\r\n      }\r\n      this.setState({ namecollection: users });\r\n    });\r\n\r\n    socket.on(\"get_messages\", (messages) => {\r\n      console.log(messages);\r\n      this.setState({ chatMessages: messages });\r\n    });\r\n  }\r\n\r\n  sendMessage(){\r\n    let messageDetails = {\r\n      message : this.state.message,\r\n      userid : this.state.currentUser.id, \r\n      userimg : this.state.currentUser.photo\r\n    }\r\n    this.setState({ message: \"\" });\r\n    socket.emit('send_message', messageDetails);\r\n  }\r\n\r\n  keyPress(e){\r\n    if(e.keyCode === 13){\r\n      e.preventDefault();\r\n      let messageDetails = {\r\n        message : this.state.message,\r\n        userid : this.state.currentUser.id, \r\n        userimg : this.state.currentUser.photo\r\n      }\r\n      this.setState({ message: \"\" });\r\n      socket.emit('send_message', messageDetails);\r\n    }\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <div id=\"sidepanel\">\r\n          <div id=\"profile\">\r\n            <div className=\"wrap\">\r\n              <img id=\"profile-img\" src={\"images/\" + this.state.currentUser.photo} className=\"online\" alt=\"\" />\r\n              <p>{this.state.currentUser.name}</p>\r\n            </div>\r\n          </div>\r\n          <div id=\"search\">\r\n           &nbsp;\r\n          </div>\r\n          <div id=\"contacts\">\r\n            <ul>\r\n              {this.state.namecollection.filter(m => m.name !== global.currentUser).map((p, i) => {\r\n                return (\r\n                  <li className=\"contact\" key={i}>\r\n                    <div className=\"wrap\">\r\n                      <span className=\"contact-status online\"></span>\r\n                      <img src={\"images/\" + p.photo} alt=\"\" />\r\n                      <div className=\"meta\">\r\n                        <p className=\"name\" style={{fontSize:'20px', paddingTop:'5px'}}>{p.name}</p>\r\n                      </div>\r\n                    </div>\r\n                  </li>)\r\n              })}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div className=\"content\">\r\n          <div className=\"contact-profile\">\r\n          <img  src={\"images/group.jpg\"} className=\"online\" alt=\"\" />\r\n          <p>Group Chat</p>\r\n          </div>\r\n          <div className=\"messages\">\r\n            <ul>\r\n              {\r\n                this.state.chatMessages != null && this.state.chatMessages.map((p, i) => {\r\n                  return(<li key={i} className={this.state.currentUser.id === p.userid ? \"replies\" : \"sent\"}>\r\n                      <img src={\"images/\" + p.userimg}  alt=\"\" />\r\n                      <p>{p.message}</p>\r\n                  </li>)\r\n                })\r\n              }\r\n            </ul>\r\n            <div style={{ float:\"left\", clear: \"both\" }}\r\n                ref={(el) => { this.messagesEnd = el; }}>\r\n            </div>\r\n          </div>\r\n          <div className=\"message-input\">\r\n            <div className=\"wrap\">\r\n              <input onKeyDown={this.keyPress.bind(this)} onChange={this.handleChange.bind(this)} value={this.state.message}  type=\"text\" placeholder=\"Write your message...\" />\r\n              <button onClick={this.sendMessage.bind(this)} className=\"submit\"><i className=\"fa fa-paper-plane\" aria-hidden=\"true\"></i></button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default chat;\r\n"]},"metadata":{},"sourceType":"module"}